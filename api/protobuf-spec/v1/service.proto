syntax = "proto3";

package octolab.api.tablo.v1;

import "v1/common.proto";
import "v1/vendor.proto";

option go_package = "v1";

service TabloService {
    rpc Create (Tablo) returns (URI);
    rpc Get (URI) returns (Tablo);
    rpc GetList (Criteria) returns (List);
    rpc Update (Tablo) returns (Void);
    rpc Delete (URI) returns (Void);
}

message Tablo {
    URI id = 1;
    string title = 2;
    string emoji = 3;
    string desc = 4;
    repeated Column columns = 5;
    repeated Source sources = 6;
    reserved 7; // for created_at
    reserved 8; // for updated_at
}

message Column {
    URI id = 1;
    string title = 2;
    string emoji = 3;
    string desc = 4;
    repeated Card cards = 5;
    reserved 6; // for created_at
    reserved 7; // for updated_at
}

message Card {
    URI id = 1;
    string title = 2;
    string emoji = 3;
    string url = 4;
    repeated string labels = 5;
    reserved 6; // for created_at
    reserved 7; // for updated_at
}

message Criteria {}

message List {
    repeated Tablo list = 2;
}
